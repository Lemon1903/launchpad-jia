/* Field components SCSS converted from Tailwind utilities */

/* FieldSet */
[data-slot="field-set"] {
	display: flex;
	flex-direction: column;
	gap: 1.5rem; /* gap-6 */

	&:has(> [data-slot="checkbox-group"]),
	&:has(> [data-slot="radio-group"]) {
		gap: 0.75rem; /* gap-3 */
	}
}

/* FieldLegend */
[data-slot="field-legend"] {
	margin-bottom: 0.5rem; /* mb-3 */
	font-weight: 500; /* font-medium */

	&[data-variant="legend"] {
		font-size: 0.875rem; /* text-sm */
    font-weight: 700;
    color: #181D27;
	}
	&[data-variant="label"] {
		font-size: 0.875rem; /* text-sm */
	}
}

/* FieldGroup */
[data-slot="field-group"] {
	display: flex;
	width: 100%;
	flex-direction: column;
	gap: 1.5rem;
	/* Container for responsive orientation handling */
	container-type: inline-size;
	container-name: field-group;

	&[data-slot="checkbox-group"] {
		gap: 0.75rem;
	}

	/* Child groups get smaller gap */
	& > [data-slot="field-group"] {
		gap: 1rem;
	}
}

/* Field (core) */
[data-slot="field"] {
	display: flex;
	width: 100%;
	gap: 0.375rem;

	&[data-invalid="true"] {
		color: var(--destructive);
	}

	/* Orientation: vertical */
	&[data-orientation="vertical"] {
		flex-direction: column;

		/* All direct children full width; keep .sr-only auto width */
		& > * {
			width: 100%;
		}
		& > .sr-only {
			width: auto;
		}
	}

	/* Orientation: horizontal */
	&[data-orientation="horizontal"] {
		flex-direction: row;
		align-items: center;

		& > [data-slot="field-label"] {
			flex: 1 1 auto; /* flex-auto */
		}

		/* If there is content, align to start and adjust checkbox/radio offset */
		&:has(> [data-slot="field-content"]) {
			align-items: flex-start;

			& > [role="checkbox"],
			& > [role="radio"] {
				margin-top: 1px; /* mt-px */
			}
		}
	}

	/* Orientation: responsive (vertical until container >= 768px) */
	&[data-orientation="responsive"] {
		flex-direction: column;
		& > * {
			width: 100%;
		}
		& > .sr-only {
			width: auto;
		}

		@container field-group (min-width: 768px) {
			flex-direction: row;
			align-items: center;

			& > * {
				width: auto;
			}
			& > [data-slot="field-label"] {
				flex: 1 1 auto;
			}
			&:has(> [data-slot="field-content"]) {
				align-items: flex-start;
				& > [role="checkbox"],
				& > [role="radio"] {
					margin-top: 1px;
				}
			}
		}
	}
}

/* FieldContent */
[data-slot="field-content"] {
	display: flex;
	flex: 1 1 auto;
	flex-direction: column;
	gap: 0.375rem; /* gap-1.5 */
	line-height: 1.375; /* leading-snug */
}

/* FieldLabel (as label wrapper) and FieldTitle (as div) share slot) */
[data-slot="field-label"] {
	display: flex;
	gap: 0.5rem; /* gap-2 */
  margin-bottom: 0;
	width: fit-content;
	line-height: 1.375; /* leading-snug */

	/* When ancestor field is disabled */
	[data-slot="field"][data-disabled="true"] & {
		opacity: 0.5;
	}

	/* When this label wraps a nested field */
	&:has(> [data-slot="field"]) {
		width: 100%;
		flex-direction: column;
		border: 1px solid var(--border);
		border-radius: 0.375rem; /* rounded-md */

		& > [data-slot="field"] {
			padding: 1rem; /* p-4 */
		}

		/* Checked state visuals */
		&:has([data-state="checked"]) {
			background-color: var(--primary-05, rgba(59, 130, 246, 0.05));
			border-color: var(--primary);
		}
		.dark &:has([data-state="checked"]) {
			background-color: var(--primary-10, rgba(59, 130, 246, 0.1));
		}
	}
}

/* FieldTitle specifics (text sizing/weight) */
/* Since FieldTitle shares data-slot, scope via element type if needed */
div[data-slot="field-label"] {
	align-items: center;
	font-size: 0.875rem; /* text-sm */
	font-weight: 500; /* font-medium */
}

/* FieldDescription */
[data-slot="field-description"] {
	color: var(--muted-foreground);
	font-size: 0.875rem; /* text-sm */
	line-height: 1.5; /* leading-normal */
	font-weight: 400; /* font-normal */

	/* Balance text when the field is horizontal */
	[data-slot="field"][data-orientation="horizontal"] & {
		text-wrap: balance;
	}

	/* spacing tweaks */
	&:last-child {
		margin-top: 0; /* last:mt-0 */
	}
	/* nth-last-2:-mt-1 approximation */
	&:nth-last-child(2) {
		margin-top: -0.25rem;
	}
	/* [[data-variant=legend]+&]: -mt-1.5 */
	[data-slot="field-legend"] + & {
		margin-top: -0.375rem;
	}

	/* Links */
	& > a {
		text-decoration: underline;
		text-underline-offset: 4px;
		color: inherit;
	}
	& > a:hover {
		color: var(--primary);
	}
}

/* FieldSeparator */
[data-slot="field-separator"] {
	position: relative;
	margin-top: -0.5rem;
	margin-bottom: -0.5rem; /* -my-2 */
	height: 1.25rem; /* h-5 */
	font-size: 0.875rem; /* text-sm */

	/* When group variant is outline */
	[data-slot="field-group"][data-variant="outline"] & {
		margin-bottom: -0.5rem;
	}
}

[data-slot="field-separator-line"] {
	position: absolute;
	inset: 0;
	top: 50%;
}

[data-slot="field-separator-content"] {
	position: relative;
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: fit-content;
	padding-left: 0.5rem;
	padding-right: 0.5rem; /* px-2 */
	background: var(--background);
	color: var(--muted-foreground);
}

/* FieldError */
[data-slot="field-error"] {
	color: var(--destructive);
	font-size: 0.875rem; /* text-sm */
	font-weight: 400; /* font-normal */
}

[data-slot="field-error-list"] {
	margin-left: 1rem; /* ml-4 */
	display: flex;
	flex-direction: column;
	gap: 0.25rem; /* gap-1 */
	list-style: disc;
}

